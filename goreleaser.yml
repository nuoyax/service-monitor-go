project_name: service-monitor
# 构建输出目录
dist: dist

# 生成 release
release:
  github:
    owner: nuoyax # 改成你自己的
    name: service-monitor
    draft: false
    prerelease: false

builds:
  - main: ./cmd/main.go
    goos:
      - windows
      - linux
    goarch:
      - amd64
    ldflags:
      - "-s -w"
    binary: service-monitor
    env:
      - CGO_ENABLED=0

archives:
  - format: tar.gz
    replacements:
      darwin: macOS
      windows: Windows
    files:
      - ./bin/service-monitor*

# Debian 包
nfpkg:
  - packager: deb
    binary: service-monitor
    package_name: service-monitor
    files:
      "/usr/local/bin/service-monitor": service-monitor
    changelog:
      use: git
    maintainer: GitHub Actions <actions@github.com>
    license: MIT
    section: utils
    priority: optional
    description: Service Monitor Tool

# RPM 包
nfpkg:
  - packager: rpm
    binary: service-monitor
    package_name: service-monitor
    files:
      "/usr/local/bin/service-monitor": service-monitor
    changelog:
      use: git
    maintainer: GitHub Actions <actions@github.com>
    license: MIT
    summary: Service Monitor Tool
    group: Applications/System
